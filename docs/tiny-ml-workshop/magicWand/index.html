<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-tiny-ml-workshop/magicWand">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.0">
<title data-rh="true">Harry Potter Magic Wand 🧙‍♂️🪄 | MakerGram Workshop 🛠</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://workshop.makergram.com/img/mg.png"><meta data-rh="true" name="twitter:image" content="https://workshop.makergram.com/img/mg.png"><meta data-rh="true" property="og:url" content="https://workshop.makergram.com/docs/tiny-ml-workshop/magicWand"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Harry Potter Magic Wand 🧙‍♂️🪄 | MakerGram Workshop 🛠"><meta data-rh="true" name="description" content="In the enchanting world of Harry Potter, wands 🪄 are more than just tools; they are extensions of the wizards who wield them, capable of casting spells that bewitch minds, conjure beauty, and occasionally wreak havoc. What if the boundary between that magical realm and our own could be blurred? What if, with a flick of the wrist and a well-pronounced incantation, you could command the unseen forces of our world much like a wizard in Hogwarts? 🧙‍♀️ This isn&#x27;t just a flight of fancy but a project that bridges the gap between the fantastical and the tangible through the marvels of modern technology."><meta data-rh="true" property="og:description" content="In the enchanting world of Harry Potter, wands 🪄 are more than just tools; they are extensions of the wizards who wield them, capable of casting spells that bewitch minds, conjure beauty, and occasionally wreak havoc. What if the boundary between that magical realm and our own could be blurred? What if, with a flick of the wrist and a well-pronounced incantation, you could command the unseen forces of our world much like a wizard in Hogwarts? 🧙‍♀️ This isn&#x27;t just a flight of fancy but a project that bridges the gap between the fantastical and the tangible through the marvels of modern technology."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://workshop.makergram.com/docs/tiny-ml-workshop/magicWand"><link data-rh="true" rel="alternate" href="https://workshop.makergram.com/docs/tiny-ml-workshop/magicWand" hreflang="en"><link data-rh="true" rel="alternate" href="https://workshop.makergram.com/docs/tiny-ml-workshop/magicWand" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="MakerGram Workshop 🛠 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="MakerGram Workshop 🛠 Atom Feed">



<link rel="preconnect" href="https://www.clarity.ms">
<script>!function(t,e,n,a,c,s,i){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(s=e.createElement(a)).async=1,s.src="https://www.clarity.ms/tag/iqas9jl96z",(i=e.getElementsByTagName(a)[0]).parentNode.insertBefore(s,i)}(window,document,"clarity","script")</script><link rel="stylesheet" href="/assets/css/styles.cb5e6b95.css">
<link rel="preload" href="/assets/js/runtime~main.579b549e.js" as="script">
<link rel="preload" href="/assets/js/main.fb1f8963.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/mg.png" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/mg.png" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">MakerGram Workshop Guides 📖📚</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/category/iot-basic-workshop-">IoT 💡</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/category/tinyml-workshop-">tinyML 🧠</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/category/projects-">Projects 📝</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/iot-basic-workshop-">IoT Basic Workshop 📡</a><button aria-label="Toggle the collapsible sidebar category &#x27;IoT Basic Workshop 📡&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/tinyml-workshop-">TinyML Workshop 🧠</a><button aria-label="Toggle the collapsible sidebar category &#x27;TinyML Workshop 🧠&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tiny-ml-workshop/intro">Introduction to tinyML 💪 + 🧠</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tiny-ml-workshop/IntroductionToArduino">Introduction to Arduino ♾️</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tiny-ml-workshop/IntroductionToXiao">Seeed XIAO nRF52840 Sense 🍀</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tiny-ml-workshop/XIAO_ESP32_S3_Setup">Seeed XIAO ESPS3-Sense 🍀</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tiny-ml-workshop/IntroductionToEdgeImpulse">Introduction to Edge Impulse 💪</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tiny-ml-workshop/IntroductionToBlues">Introduction to Blues Wirless 📡</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tiny-ml-workshop/ActivitySense">Activity Sense ✨ - Human Activity Monitor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/tiny-ml-workshop/magicWand">Harry Potter Magic Wand 🧙‍♂️🪄</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/projects-">Projects 📝</a><button aria-label="Toggle the collapsible sidebar category &#x27;Projects 📝&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/tinyml-workshop-"><span itemprop="name">TinyML Workshop 🧠</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Harry Potter Magic Wand 🧙‍♂️🪄</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Harry Potter Magic Wand 🧙‍♂️🪄</h1><p><img loading="lazy" src="https://gifdb.com/images/high/harry-potter-i-love-magic-bjpzk0dvxcf2x4eh.gif" class="img_ev3q"></p><h1>Who Love Magic? 🙋🙋‍♀️</h1><p>In the enchanting world of Harry Potter, wands 🪄 are more than just tools; they are extensions of the wizards who wield them, capable of casting spells that bewitch minds, conjure beauty, and occasionally wreak havoc. What if the boundary between that magical realm and our own could be blurred? What if, with a flick of the wrist and a well-pronounced incantation, you could command the unseen forces of our world much like a wizard in Hogwarts? 🧙‍♀️ This isn&#x27;t just a flight of fancy but a project that bridges the gap between the fantastical and the tangible through the marvels of modern technology.</p><p>Enter the realm of magic with a twist of science as we embark on a journey to create a Harry Potter-style magic wand. This isn&#x27;t any ordinary wand; it&#x27;s powered by the cutting-edge <strong>Seeed XIAO nRF52840 Sense</strong> , a micro controller that&#x27;s small in size but vast in potential, combined with the intelligence of <strong>Edge Impulse</strong>, a leading platform in machine learning for edge devices. Together, they form the heart and soul of our wand, enabling it to recognize gestures and cast spells in a way that would make even the most skilled wizards pause in awe.</p><p><img loading="lazy" src="https://i.gifer.com/MjmG.gif" class="img_ev3q"></p><p>Imagine lighting up a room with a &quot;Lumos&quot; spell, sending objects flying with a flick for &quot;Wingardium Leviosa&quot;, or even changing the color of LEDs to match your house colors—all with a simple movement of your hand-crafted wand. This project will guide you through the magical process of creating such a wand. From gathering the necessary components like accelerometers and LEDs, to training a machine learning model to recognize your spell-casting gestures, you&#x27;ll learn how to bring a piece of the wizarding world into reality.</p><p>So grab your cloaks, prepare your potions, and let&#x27;s dive into a project where the worlds of magic and technology collide, creating something truly magical. Whether you&#x27;re a fan of Harry Potter, a DIY electronics enthusiast, or someone fascinated by the potential of machine learning, this journey promises to be an exciting adventure into the heart of magic itself.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="key-features-of-harry-potter-magic-wand-️">Key Features of Harry Potter Magic Wand 🧙‍♂️🪄<a href="#key-features-of-harry-potter-magic-wand-️" class="hash-link" aria-label="Direct link to Key Features of Harry Potter Magic Wand 🧙‍♂️🪄" title="Direct link to Key Features of Harry Potter Magic Wand 🧙‍♂️🪄">​</a></h2><ul><li><strong>Gesture Recognition</strong> 🌀: Utilizes machine learning models trained via Edge Impulse to recognize specific wand movements, allowing the wielder to &#x27;cast&#x27; spells by performing accurate gestures.</li><li><strong>Control Internet of things 📡</strong>: With the modern Magic wand, we can control Internet of things devices and talk to system such as Laptop and Mobile phone.</li><li><strong>Bluetooth Capability 🛜</strong> : Allows the wand to connect to smartphones, tablets, or other smart devices for extended functionalities, such as controlling smart home devices or playing sounds through external speakers.</li><li><strong>Open Source Software 💻</strong>: Users can update the wand with new spells and gestures, thanks to the open-source nature of the software. The community can contribute to its spell library, making the wand&#x27;s capabilities ever-expanding.</li><li><strong>DIY Aesthetics 🛠️:</strong> The wand can be customized in its physical appearance to match the user&#x27;s preference, whether it be a replica of a wand from the Harry Potter series or an original design.</li><li><strong>Learn Through Play 📚:</strong> Bridges the gap between entertainment and education, teaching principles of electronics, programming, and machine learning through interactive spell casting.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="flow-diagram---how-its-works">Flow Diagram 🔖 / How it&#x27;s works.<a href="#flow-diagram---how-its-works" class="hash-link" aria-label="Direct link to Flow Diagram 🔖 / How it&#x27;s works." title="Direct link to Flow Diagram 🔖 / How it&#x27;s works.">​</a></h2><p><img loading="lazy" src="/assets/images/MagicWand.drawio-853869774e45f4f778e452542e5ceed5.png" width="661" height="822" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="demo-️">Demo 🗃️<a href="#demo-️" class="hash-link" aria-label="Direct link to Demo 🗃️" title="Direct link to Demo 🗃️">​</a></h2><p><img loading="lazy" src="/assets/images/demo-431d2ca29653d6cf840e938ebd00223f.gif" width="600" height="1067" class="img_ev3q"></p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lets-get-started-">Let&#x27;s get started ✨<a href="#lets-get-started-" class="hash-link" aria-label="Direct link to Let&#x27;s get started ✨" title="Direct link to Let&#x27;s get started ✨">​</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="pre-requisites">Pre-requisites<a href="#pre-requisites" class="hash-link" aria-label="Direct link to Pre-requisites" title="Direct link to Pre-requisites">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hardware-requirements-">Hardware Requirements 🔩<a href="#hardware-requirements-" class="hash-link" aria-label="Direct link to Hardware Requirements 🔩" title="Direct link to Hardware Requirements 🔩">​</a></h3><ul><li>Seeed XIAO nRF52840 Sense</li><li>Type-C Cable</li><li>Laptop/Desktop computer</li><li>Magic Wand (Chopsticks)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="software-installations-">Software Installations 💻<a href="#software-installations-" class="hash-link" aria-label="Direct link to Software Installations 💻" title="Direct link to Software Installations 💻">​</a></h3><p>Attendees only need some very basic knowledge of Arduino development and understanding of 101-level C coding concepts. Some (free) software installations are required:</p><ul><li>Arduino IDE</li><li>Install the Edge Impulse CLI</li><li>Create a free Edge Impulse Studio account</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="workshop-agenda--">Workshop Agenda  📖<a href="#workshop-agenda--" class="hash-link" aria-label="Direct link to Workshop Agenda  📖" title="Direct link to Workshop Agenda  📖">​</a></h3><p>All of the resources needed to present the workshop are available in the venue. Please let us know if anything missing.</p><ul><li>Welcome and Introductions <strong>[5 mins]</strong></li><li>Introduce the Seeed XIAO nRF52840 Hardware <strong>[10 mins]</strong></li><li>Introduce the Edge Impulse platform <strong>[10 mins]</strong></li><li>Hands-on: XIAO blink <strong>[15 mins]</strong></li><li>Hands-on: XIAO IMU Data Forwarding to Edge Impulse <strong>[15 mins]</strong></li><li>hands-on: Create Impulse and Deploy <strong>[15 mins]</strong></li><li>hands-on: Build and run inference program on XIAO <strong>[15 mins]</strong></li><li>Hands-on: Complete the Action program based on the inference <strong>[15 mins]</strong></li><li>Hands-on: Assembling everything togther <strong>[20 mins]</strong></li><li>Hands-on: Test  <strong>[10 mins]</strong></li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-introductions-">Step 1: Introductions 🔖<a href="#step-1-introductions-" class="hash-link" aria-label="Direct link to Step 1: Introductions 🔖" title="Direct link to Step 1: Introductions 🔖">​</a></h2><ol><li><a href="https://workshop.makergram.com/docs/tiny-ml-workshop/intro" target="_blank" rel="noopener noreferrer">Introduction to TinyML 💪 + 🧠</a></li><li><a href="https://workshop.makergram.com/docs/tiny-ml-workshop/IntroductionToArduino" target="_blank" rel="noopener noreferrer">Introduction to Arduino ♾️</a> =&gt; Install Arduino IDE</li><li><a href="https://workshop.makergram.com/docs/tiny-ml-workshop/IntroductionToXiao" target="_blank" rel="noopener noreferrer">Introduction to XIAO nRF52840 Sense 🍀</a> =&gt; Install XIAO on Arduino , run blink project.</li><li><a href="https://workshop.makergram.com/docs/tiny-ml-workshop/IntroductionToEdgeImpulse" target="_blank" rel="noopener noreferrer">Introduction to EdgeImpulse 💪</a> =&gt; Create Edge Impulse account.</li></ol><hr><p>Note : <a href="https://drive.google.com/drive/folders/1QLyKkKOwmpsVop3beFmxr5DbuMFKjSsU?usp=sharing" target="_blank" rel="noopener noreferrer">Files</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-fetch-accelerometer-data-from-xiao-">Step 2: Fetch Accelerometer data from XIAO 🧺<a href="#step-2-fetch-accelerometer-data-from-xiao-" class="hash-link" aria-label="Direct link to Step 2: Fetch Accelerometer data from XIAO 🧺" title="Direct link to Step 2: Fetch Accelerometer data from XIAO 🧺">​</a></h2><p>Next, we need to read the Accelerometer data from the XIAO inbuilt Accelerometer sensor. For that please follow the below guide.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-21-connect-the-seeed-studio-xiao-nrf52840-sense-to-your-computer-via-a-usb-type-c-cable">Step 2.1: Connect the Seeed Studio XIAO nRF52840 Sense to your computer via a USB Type-C cable.<a href="#step-21-connect-the-seeed-studio-xiao-nrf52840-sense-to-your-computer-via-a-usb-type-c-cable" class="hash-link" aria-label="Direct link to Step 2.1: Connect the Seeed Studio XIAO nRF52840 Sense to your computer via a USB Type-C cable." title="Direct link to Step 2.1: Connect the Seeed Studio XIAO nRF52840 Sense to your computer via a USB Type-C cable.">​</a></h3><p><img loading="lazy" src="https://files.seeedstudio.com/wiki/XIAO-BLE/bletpyecconnect.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-22-upload-readxiaoaccelerometerino-sketch">Step 2.2: Upload ReadXIAOAccelerometer.ino sketch<a href="#step-22-upload-readxiaoaccelerometerino-sketch" class="hash-link" aria-label="Direct link to Step 2.2: Upload ReadXIAOAccelerometer.ino sketch" title="Direct link to Step 2.2: Upload ReadXIAOAccelerometer.ino sketch">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// XIAO BLE Sense LSM6DS3 Data  Forwarder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &quot;LSM6DS3.h&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &quot;Wire.h&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//Create a instance of class LSM6DS3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LSM6DS3 myIMU(I2C_MODE, 0x6A);  //I2C device address 0x6A</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define CONVERT_G_TO_MS2 9.80665f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define FREQUENCY_HZ 50</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define INTERVAL_MS (1000 / (FREQUENCY_HZ + 1))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">static unsigned long last_interval_ms = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void setup() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.begin(115200);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  while (!Serial)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (myIMU.begin() != 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.println(&quot;Device error&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.println(&quot;Device OK!&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void loop() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (millis() &gt; last_interval_ms + INTERVAL_MS) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    last_interval_ms = millis();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.print(myIMU.readFloatAccelX() * CONVERT_G_TO_MS2, 4);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.print(&#x27;\t&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.print(myIMU.readFloatAccelY() * CONVERT_G_TO_MS2, 4);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.print(&#x27;\t&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.println(myIMU.readFloatAccelZ() * CONVERT_G_TO_MS2, 4);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Upload the code to your XIAO Sense and open the serial monitor or serial plotter to see the accelerometer data.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-23-install-the-xiao-to-the-magic-wand-provided">Step 2.3: Install the XIAO to the Magic Wand provided.<a href="#step-23-install-the-xiao-to-the-magic-wand-provided" class="hash-link" aria-label="Direct link to Step 2.3: Install the XIAO to the Magic Wand provided." title="Direct link to Step 2.3: Install the XIAO to the Magic Wand provided.">​</a></h3><p>Install the band on your hand as mentioned on the above image and then move you Magic Wand after open the Serial monitor or Serial plotter.</p><p><img loading="lazy" src="/assets/images/raawIMUSerial-cb20eac1a7a68750414001a8ebee907d.png" width="2430" height="1812" class="img_ev3q"></p><p>You can also see the data over the Serial Plotter.</p><p><img loading="lazy" src="/assets/images/raawIMUSerialplotter-dcd4c3acd2971ae1f497df3408982ae2.png" width="1582" height="1004" class="img_ev3q"></p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-connect-to-edge-impulse-and-forward-accelerometer-data--️">Step 3: Connect to Edge impulse and Forward Accelerometer data  🎛️.<a href="#step-3-connect-to-edge-impulse-and-forward-accelerometer-data--️" class="hash-link" aria-label="Direct link to Step 3: Connect to Edge impulse and Forward Accelerometer data  🎛️." title="Direct link to Step 3: Connect to Edge impulse and Forward Accelerometer data  🎛️.">​</a></h2><p>As of now, we can see the accelerometer data from from the XIAO using arduino IDE serial monitor, now we need to forward the data to the edge impulse for post processing.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-31-create-an-edge-impulse-free-account">Step 3.1: Create an Edge Impulse Free Account.<a href="#step-31-create-an-edge-impulse-free-account" class="hash-link" aria-label="Direct link to Step 3.1: Create an Edge Impulse Free Account." title="Direct link to Step 3.1: Create an Edge Impulse Free Account.">​</a></h3><p>First, we need to create an edge impulse account. for that go to <a href="https://studio.edgeimpulse.com/login" target="_blank" rel="noopener noreferrer">https://studio.edgeimpulse.com/login</a> select <strong>Sign Up</strong>, or if you already have an account enter <strong>Username/Email</strong> and <strong>password</strong>.</p><p><img loading="lazy" src="https://hackster.imgix.net/uploads/attachments/1323148/image_uJbGxfMuNw.png?auto=compress%2Cformat&amp;w=740&amp;h=555&amp;fit=max" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-32-create-edge-impulse-project">Step 3.2: Create Edge Impulse Project<a href="#step-32-create-edge-impulse-project" class="hash-link" aria-label="Direct link to Step 3.2: Create Edge Impulse Project" title="Direct link to Step 3.2: Create Edge Impulse Project">​</a></h3><p>After creating an account, we need to create an edgeImpulse project. For that click your profile and select Create a new project or use this <a href="https://studio.edgeimpulse.com/studio/select-project#create-new-project" target="_blank" rel="noopener noreferrer">URL</a>.</p><p><img loading="lazy" src="/assets/images/newproject-2c3e5b4ccf4d6ef340a7124cb89d023d.png" width="611" height="483" class="img_ev3q"></p><p>Then provide a project name, then click <strong>Create new project</strong> .</p><p><img loading="lazy" src="https://hackster.imgix.net/uploads/attachments/1323155/image_MYIOqUbxwg.png?auto=compress%2Cformat&amp;w=740&amp;h=555&amp;fit=max" class="img_ev3q"></p><p>Next, you can see the studio page, which means you successfully created an edge Impulse project 🎉</p><p><img loading="lazy" src="https://hackster.imgix.net/uploads/attachments/1323156/image_JUOIG1bLjI.png?auto=compress%2Cformat&amp;w=740&amp;h=555&amp;fit=max" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-connect-the-xiao-with-edgeimpulse-and-start-collect-data-">Step 4: Connect the XIAO with EdgeImpulse and start collect data 🪣.<a href="#step-4-connect-the-xiao-with-edgeimpulse-and-start-collect-data-" class="hash-link" aria-label="Direct link to Step 4: Connect the XIAO with EdgeImpulse and start collect data 🪣." title="Direct link to Step 4: Connect the XIAO with EdgeImpulse and start collect data 🪣.">​</a></h2><p>Next, we need to connect the XIAO with the edge impulse to collect the data, and for that you need follow the below steps.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="steps-41-install-edge-impulse-cli-in-your-computer">Steps 4.1: Install Edge impulse CLI in your computer.<a href="#steps-41-install-edge-impulse-cli-in-your-computer" class="hash-link" aria-label="Direct link to Steps 4.1: Install Edge impulse CLI in your computer." title="Direct link to Steps 4.1: Install Edge impulse CLI in your computer.">​</a></h3><p>This Edge Impulse CLI is used to control local devices, act as a proxy to synchronise data for devices that don&#x27;t have an internet connection, and to upload and convert local files. The CLI consists of seven tools:</p><ul><li><a href="https://docs.edgeimpulse.com/docs/edge-impulse-cli/cli-daemon" target="_blank" rel="noopener noreferrer">edge-impulse-daemon</a> - configures devices over serial, and acts as a proxy for devices that do not have an IP connection.</li><li><a href="https://docs.edgeimpulse.com/docs/edge-impulse-cli/cli-uploader" target="_blank" rel="noopener noreferrer">edge-impulse-uploader</a> - allows uploading and signing local files.</li><li><a href="https://docs.edgeimpulse.com/docs/edge-impulse-cli/cli-data-forwarder" target="_blank" rel="noopener noreferrer">edge-impulse-data-forwarder</a> - a very easy way to collect data from any device over a serial connection, and forward the data to Edge Impulse.</li><li><a href="https://docs.edgeimpulse.com/docs/edge-impulse-cli/cli-run-impulse" target="_blank" rel="noopener noreferrer">edge-impulse-run-impulse</a> - show the impulse running on your device.</li><li><a href="https://docs.edgeimpulse.com/docs/edge-impulse-cli/cli-blocks" target="_blank" rel="noopener noreferrer">edge-impulse-blocks</a> - create organizational transformation, custom dsp, custom deployment and custom transfer learning blocks.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="installation---windows">Installation - Windows<a href="#installation---windows" class="hash-link" aria-label="Direct link to Installation - Windows" title="Direct link to Installation - Windows">​</a></h4><ol><li>Create an <a href="https://studio.edgeimpulse.com/signup" target="_blank" rel="noopener noreferrer">Edge Impulse account</a>.</li><li>Install <a href="https://www.python.org/" target="_blank" rel="noopener noreferrer">Python 3</a> on your host computer.</li><li>Install <a href="https://nodejs.org/en/" target="_blank" rel="noopener noreferrer">Node.js</a> v14 or higher on your host computer.<ul><li>For Windows users, install the Additional Node.js tools (called Tools for Native Modules on newer versions) when prompted.</li></ul></li><li>Install the CLI tools via:
<code>npm install -g edge-impulse-cli --force</code></li></ol><p>You should now have the tools available in your PATH.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="installation---linux-ubuntu-macos-and-raspbian-os">Installation - Linux, Ubuntu, MacOS, and Raspbian OS<a href="#installation---linux-ubuntu-macos-and-raspbian-os" class="hash-link" aria-label="Direct link to Installation - Linux, Ubuntu, MacOS, and Raspbian OS" title="Direct link to Installation - Linux, Ubuntu, MacOS, and Raspbian OS">​</a></h4><ol><li>Create an <a href="https://studio.edgeimpulse.com/signup" target="_blank" rel="noopener noreferrer">Edge Impulse account</a>.</li><li>Install <a href="https://www.python.org/" target="_blank" rel="noopener noreferrer">Python 3</a> on your host computer.</li><li>Install <a href="https://nodejs.org/en/" target="_blank" rel="noopener noreferrer">Node.js</a> v14 or higher on your host computer.
Alternatively, run the following commands:</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -sL https://deb.nodesource.com/setup_14.x | sudo -E bash -</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt-get install -y nodejs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node -v</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The last command should return the node version, v14 or above.
Let&#x27;s verify the node installation directory:
<code>npm config get prefix</code>
If it returns /usr/local/, run the following commands to change npm&#x27;s default directory:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mkdir ~/.npm-global</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm config set prefix &#x27;~/.npm-global&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &#x27;export PATH=~/.npm-global/bin:$PATH&#x27; &gt;&gt; ~/.profile</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>On MacOS you might be using zsh as default, so you will want to update the correct profile</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mkdir ~/.npm-global</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm config set prefix &#x27;~/.npm-global&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &#x27;export PATH=~/.npm-global/bin:$PATH&#x27; &gt;&gt; ~/.zprofile</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4"><li>Install the CLI tools via:
<code>npm install -g edge-impulse-cli</code>
You should now have the tools available in your PATH.</li></ol><p>For more details, check here <a href="https://docs.edgeimpulse.com/docs/edge-impulse-cli/cli-installation" target="_blank" rel="noopener noreferrer">https://docs.edgeimpulse.com/docs/edge-impulse-cli/cli-installation</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="steps-42-connect-the-xiao-to-the-edge-impulse-project-we-created">Steps 4.2: Connect the XIAO to the Edge Impulse project we created<a href="#steps-42-connect-the-xiao-to-the-edge-impulse-project-we-created" class="hash-link" aria-label="Direct link to Steps 4.2: Connect the XIAO to the Edge Impulse project we created" title="Direct link to Steps 4.2: Connect the XIAO to the Edge Impulse project we created">​</a></h3><p>We need to connect the XIAO board to a specific project. For that, follow th steps after installing the edge impulse CLI</p><p>Enter the command <code>edge-impulse-data-forwarder</code> CLI to start the data forwarder and provide the information. It&#x27;s similar to below image</p><p><img loading="lazy" src="/assets/images/cliconnnect-424ed9ba751a293e6e0df782d0d4568b.png" width="1748" height="1120" class="img_ev3q"></p><ol><li>Run command <code>edge-impulse-data-forwarder</code></li><li>Enter edge impulse account email account</li><li>Enter edge impulse account password</li><li>Select project from the list.</li></ol><p>After selecting the project, we need to describe the data as below.</p><p><img loading="lazy" src="/assets/images/cliconnnect2-7c9a57aeec75fe95bd7134290d1ca6ec.png" width="2354" height="318" class="img_ev3q"></p><ol><li>Name the sensor values as <code>accX,accY,accZ</code></li></ol><p>That&#x27;s all, then open the Edge impulse project page, you can see the device connected there.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-43-start-collecting-data">Step 4.3 Start collecting Data.<a href="#step-43-start-collecting-data" class="hash-link" aria-label="Direct link to Step 4.3 Start collecting Data." title="Direct link to Step 4.3 Start collecting Data.">​</a></h3><p><img loading="lazy" src="/assets/images/conenctedDevice-64a74e27bfa841c2482464810f9526c5.png" width="3292" height="878" class="img_ev3q"></p><p>After following the step 4.2, we can see the device connected to the edge impulse and we can see it&#x27;s listed as above image.</p><p><img loading="lazy" src="/assets/images/dataCollection-2f2f72828e579d4ecd62529e3ac35c93.jpeg" width="1894" height="860" class="img_ev3q"></p><p>Choose <strong>Data Acquisition</strong> option and provide the <strong>label</strong> of data we are collecting and click start <strong>&quot;Start Sampling&quot;</strong>, For this project we are collecting data for <strong>idle</strong> , <strong>LeftRight</strong> and <strong>UpDown</strong> activities for simplicity. Try to collect as much data as possible.</p><p> You can see that label is &#x27;LeftRight&#x27; so I need to record Left Right Movement data from the sensor parameters.</p><p><img loading="lazy" src="/assets/images/dataSample-3232bf4dc7f288a8b4a48363b6dd91ed.jpg" width="814" height="491" class="img_ev3q"></p><p> After that click sample, since we provided 10000 milliseconds as sample length, it will start with10-sec Built-in Accelerometer data.</p><p><img loading="lazy" src="/assets/images/dataSampleCollection-75d23e032dd54148b09c1747cfc7ba31.jpg" width="812" height="495" class="img_ev3q"></p><p> So when sampling started, you should do the activity for 10 seconds to capture the data. Another option is you can also import the pre-captured data. For that, first download the dataset by clicking <a target="_blank" href="/assets/files/xiao-nrf-magicwand-presenter-export-55b2a996bca5882bd65884420b37a986.zip">here</a></p><p><img loading="lazy" src="https://64.media.tumblr.com/tumblr_m71o7giWON1rsmws3o1_r1_500.gif" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="upload-the-dataset">Upload the dataset<a href="#upload-the-dataset" class="hash-link" aria-label="Direct link to Upload the dataset" title="Direct link to Upload the dataset">​</a></h4><p><img loading="lazy" src="/assets/images/uploadData1-6a5f22841c55f652efb2e242aff0f086.png" width="696" height="347" class="img_ev3q">
Select the <strong>Upload data</strong> option.
<img loading="lazy" src="/assets/images/uploadData2-766ff723d10bf5c1783c0ff6658c007a.png" width="2252" height="1632" class="img_ev3q">
Make sure to select the exact settings as mentioned on the above image and then choose the file that you already downloaded from  <a target="_blank" href="/assets/files/activitymonitor_xiao_sense-export-59c69921f01a534af259c85e6ec7b25f.zip">here</a>.</p><p>After collecting or importing the data, you can see the inspect the Raw data. Like this
<img loading="lazy" src="/assets/images/UpDownData-7a45391b36d405de6acf7619361a5811.jpg" width="1635" height="983" class="img_ev3q"></p><p>LeftRight data like below.
<img loading="lazy" src="/assets/images/leftRightdata-69619ca81adbaabe558489bb7318a5ce.jpg" width="1628" height="826" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-5-design-impulse-create-ml-model-and-train-">Step 5 Design Impulse, create ML model and train 🪄.<a href="#step-5-design-impulse-create-ml-model-and-train-" class="hash-link" aria-label="Direct link to Step 5 Design Impulse, create ML model and train 🪄." title="Direct link to Step 5 Design Impulse, create ML model and train 🪄.">​</a></h2><p>An impulse takes the raw data, slices it up in smaller windows, uses signal processing blocks to extract features, and then uses a learning block to classify new data.</p><p>Signal processing blocks always return the same values for the same input and are used to make raw data easier to process, while learning blocks learn from past experiences.</p><p>In our Impulse Design, There are three steps we need to take care</p><ul><li>Create Impulse - Select Data series, processing block, learning block and output features</li><li>Select &amp; Build Processing block (Spectral Features)</li><li>Select &amp; Build Learning block (Neural Network Classifiers)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-51-create-impulse">Step 5.1 Create Impulse<a href="#step-51-create-impulse" class="hash-link" aria-label="Direct link to Step 5.1 Create Impulse" title="Direct link to Step 5.1 Create Impulse">​</a></h3><p>First, we need to select the parameters such as window size in the data series,processing block and learning block Finlay select the Output features which is labels.</p><p><img loading="lazy" src="/assets/images/impulse_creation-5eb8c67cebd0532d2394a46a43139697.png" width="2790" height="1576" class="img_ev3q"></p><ol><li><p><strong>Time series data</strong>: We need to mention the data we are using for the model, here we are using <strong>accX</strong>,<strong>accY</strong> and <strong>accZ</strong> values, and put <strong>Window size</strong> as <strong>2000ms</strong> , <strong>Window increase</strong> as <strong>200ms</strong>, then finally FREQ as 50 Hz. Pleas refer the image.</p><ul><li>The <strong>window size</strong> is the size of the raw features that is used for the training</li><li>The <strong>window increase </strong>is used to artificially create more features (and feed the learning block with more information)</li><li>The<strong> frequency</strong> is automatically calculated based on your training samples. You can modify this value but you currently cannot use values lower than 0.000016 (less than 1 sample every 60s).</li><li><strong>Zero-pad data</strong>: Adds zero values when raw feature is missing</li></ul></li><li><p><strong>Processing Block =&gt; Spectral Analysis</strong>: Extracting meaningful features from your data is crucial to building small and reliable machine learning models, and in Edge Impulse this is done through processing blocks. Here for the project we are using the <strong>Spectral Analysis</strong>.</p></li><li><p><strong>Learning Block =&gt; Classification</strong>: After extracting meaningful features from the raw signal using signal processing, you can now train your model using a learning block. We are using <strong>Classification</strong> Learning Block .</p></li><li><p><strong>Output Features:</strong> Here we can see the output from the Impulse, it&#x27;s will be the product of the ML prediction. Here we can see the values as &quot;<strong>Sitting</strong>&quot; , &quot;<strong>Standing</strong>&quot;, &quot;<strong>Walking</strong>&quot;.</p></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-52-spectral-features">Step 5.2 Spectral features<a href="#step-52-spectral-features" class="hash-link" aria-label="Direct link to Step 5.2 Spectral features" title="Direct link to Step 5.2 Spectral features">​</a></h3><p>The Spectral features block extracts frequency, power and other characteristics of a signal. Low-pass and high-pass filters can also be applied to filter out unwanted frequencies. It is great for analyzing repetitive patterns in a signal, such as movements or vibrations from an accelerometer. It is also great for complex signals that have transients or irregular waveform, such as ECG and PPG signals.</p><p><img loading="lazy" src="/assets/images/spectralFeatures-18c560a952c120686cf33dbb2eae8b6f.png" width="1688" height="1686" class="img_ev3q"></p><p>Edge Impulse will slide the window over your sample, as given by the time series input block parameters during Impulse creation in order to generate several training/test samples from your longer time series sample.</p><ul><li><strong>Scale axes</strong> - Multiply all raw input values by this number.</li><li><strong>Input decimation ratio</strong> - Decimating (down sampling) the signal reduces the number of features and improves frequency resolution in relevant bands without increasing resource usage.</li><li><strong>Type</strong> - The type of filter to apply to the raw data (low-pass, high-pass, or none).</li><li><strong>Cut-off frequency</strong> - Cut-off frequency of the filter in hertz. Also, this will remove unwanted frequency bins from the generated features.</li><li><strong>Order</strong> - Order of the Butterworth filter. Must be an even number. A higher order has a sharper cutoff at the expense of latency. You can also set to zero, in which case, the signal won&#x27;t be filtered, but unwanted frequency bins will still be removed from the output.</li></ul><p>For now, we don&#x27;t need change any parameters, Just click <strong>Save parameters</strong> and continue.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-53-classifier">Step 5.3 Classifier<a href="#step-53-classifier" class="hash-link" aria-label="Direct link to Step 5.3 Classifier" title="Direct link to Step 5.3 Classifier">​</a></h3><p>Here we are giving parameters to setup the out Neural Network. For this project, we don&#x27;t need to chanage anaything and we can start trainig by clicking &quot;<strong>Start Training</strong>&quot;</p><p><img loading="lazy" src="/assets/images/classifier-f4991b7143f6ad1a39f4ebe206fbb642.png" width="682" height="826" class="img_ev3q"></p><p>it will take few minutes from 5 to 10 minutes, please wait untill the training is completed.</p><p>We can see the model training performance once training completed.</p><p><img loading="lazy" src="/assets/images/ModelOutput-e900135b2f2a539c8bd95e83bdf84fba.jpg" width="809" height="933" class="img_ev3q"></p><p>here we got a very good performance result, everything looks good so far 🥳.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-6-generate-arduino-library-">Step 6: Generate Arduino Library 🧬.<a href="#step-6-generate-arduino-library-" class="hash-link" aria-label="Direct link to Step 6: Generate Arduino Library 🧬." title="Direct link to Step 6: Generate Arduino Library 🧬.">​</a></h2><p>We successfully collected data and trained our tinyML model, now we can implement it on our XIAO and make it action. To use the tinyML model, we can download tinyML project as arduino library, for that</p><ol><li>Go to &quot;<strong>Deployment</strong>&quot;</li><li>Search for &quot;<strong>Arduino Library</strong>&quot;</li><li>Click <strong>Build</strong></li></ol><p><img loading="lazy" src="/assets/images/libgen1-0369f382ffcb286d8079e13c6bf6ef25.png" width="2112" height="1828" class="img_ev3q"></p><p>The process will take little bit time, so please wait until the library is generated.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-7-deploy-it-on-the-xiao-nrf52850-sense-and-live-inference-">Step 7: Deploy it on the XIAO nRF52850 Sense and Live inference 🪢.<a href="#step-7-deploy-it-on-the-xiao-nrf52850-sense-and-live-inference-" class="hash-link" aria-label="Direct link to Step 7: Deploy it on the XIAO nRF52850 Sense and Live inference 🪢." title="Direct link to Step 7: Deploy it on the XIAO nRF52850 Sense and Live inference 🪢.">​</a></h2><p>Once the library generated, we need to add it on the arduino as new library for that, choose <strong>Add .ZIP Library</strong> from the <strong>Include Library</strong> option from <strong>Sketch</strong>.</p><p><img loading="lazy" src="/assets/images/lib_adding-bf699dd01e6af0411f8de57952ab852a.png" width="1354" height="498" class="img_ev3q"></p><p>After, adding the library. Use below code or download the code from <a target="_blank" href="/assets/files/XIAO_Sense_Activity_Monitor_v1-6c6a73969f76e8d5b3e454abe9f73757.ino">here</a>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/* Includes ---------------------------------------------------------------- */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;ActivityMonitor_Xiao_Sense_inferencing.h&gt; //replace the library name with yours</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &quot;LSM6DS3.h&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/* Constant defines -------------------------------------------------------- */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define CONVERT_G_TO_MS2    9.80665f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define MAX_ACCEPTED_RANGE  2.0f        // starting 03/2022, models are generated setting range to +-2, but this example use Arudino library which set range to +-4g. If you are using an older model, ignore this value and use 4.0f instead</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define INTERVAL_MS (1000 / (FREQUENCY_HZ + 1))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">static unsigned long last_interval_ms = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LSM6DS3 myIMU(I2C_MODE, 0x6A);  //I2C device address 0x6A</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">static bool debug_nn = false; // Set this to true to see e.g. features generated from the raw signal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* @brief      Arduino setup function</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void setup()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // put your setup code here, to run once:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.begin(115200);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // comment out the below line to cancel the wait for USB connection (needed for native USB)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    while (!Serial);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.println(&quot;Edge Impulse Inferencing Demo&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (!myIMU.begin()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ei_printf(&quot;Failed to initialize IMU!\r\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ei_printf(&quot;IMU initialized\r\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (EI_CLASSIFIER_RAW_SAMPLES_PER_FRAME != 3) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ei_printf(&quot;ERR: EI_CLASSIFIER_RAW_SAMPLES_PER_FRAME should be equal to 3 (the 3 sensor axes)\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @brief Return the sign of the number</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @param number</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @return int 1 if positive (or 0) -1 if negative</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">float ei_get_sign(float number) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return (number &gt;= 0.0) ? 1.0 : -1.0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* @brief      Get data and run inferencing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* @param[in]  debug  Get debug info if true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void loop()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //ei_printf(&quot;\nStarting inferencing in 2 seconds...\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    delay(2000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //ei_printf(&quot;Sampling...\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Allocate a buffer here for the values we&#x27;ll read from the IMU</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    float buffer[EI_CLASSIFIER_DSP_INPUT_FRAME_SIZE] = { 0 };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for (size_t ix = 0; ix &lt; EI_CLASSIFIER_DSP_INPUT_FRAME_SIZE; ix += 3) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Determine the next tick (and then sleep later)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint64_t next_tick = micros() + (EI_CLASSIFIER_INTERVAL_MS * 1000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //IMU.readAcceleration(buffer[ix], buffer[ix + 1], buffer[ix + 2]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        buffer[ix+0] = myIMU.readFloatAccelX();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        buffer[ix+1] = myIMU.readFloatAccelY();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        buffer[ix+2] = myIMU.readFloatAccelZ();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int i = 0; i &lt; 3; i++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (fabs(buffer[ix + i]) &gt; MAX_ACCEPTED_RANGE) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                buffer[ix + i] = ei_get_sign(buffer[ix + i]) * MAX_ACCEPTED_RANGE;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        buffer[ix + 0] *= CONVERT_G_TO_MS2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        buffer[ix + 1] *= CONVERT_G_TO_MS2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        buffer[ix + 2] *= CONVERT_G_TO_MS2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        delayMicroseconds(next_tick - micros());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Turn the raw buffer in a signal which we can the classify</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    signal_t signal;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int err = numpy::signal_from_buffer(buffer, EI_CLASSIFIER_DSP_INPUT_FRAME_SIZE, &amp;signal);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (err != 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ei_printf(&quot;Failed to create signal from buffer (%d)\n&quot;, err);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Run the classifier</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ei_impulse_result_t result = { 0 };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    err = run_classifier(&amp;signal, &amp;result, debug_nn);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (err != EI_IMPULSE_OK) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ei_printf(&quot;ERR: Failed to run classifier (%d)\n&quot;, err);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // print the predictions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   // ei_printf(&quot;Predictions &quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   // ei_printf(&quot;(DSP: %d ms., Classification: %d ms., Anomaly: %d ms.)&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   // result.timing.dsp, result.timing.classification, result.timing.anomaly);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //ei_printf(&quot;\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for (size_t ix = 0; ix &lt; EI_CLASSIFIER_LABEL_COUNT; ix++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   // ei_printf(&quot;    %s: %.5f\n&quot;, result.classification[ix].label, result.classification[ix].value);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (result.classification[ix].value &gt; .5) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ei_printf(&quot;%s \n&quot;, result.classification[ix]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //  if (result.classification[ix].value &gt; .5) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //     ei_printf(&quot;    %s: %.5f\n&quot;, result.classification[ix].label, result.classification[ix].value);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#if EI_CLASSIFIER_HAS_ANOMALY == 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ei_printf(&quot;anomaly score: %.3f\n&quot;, result.anomaly);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#endif</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#if !defined(EI_CLASSIFIER_SENSOR) || EI_CLASSIFIER_SENSOR != EI_CLASSIFIER_SENSOR_ACCELEROMETER</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#error &quot;Invalid model for current sensor&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#endif</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>From the above code, replace the <code>#include &lt;ActivityMonitor_Xiao_Sense_inferencing.h&gt;</code> replace your library name here and upload to the XIAO.</p><p>Now you can see the your body action inferencing by the tinyML model running on the XIAO and display the prediction on the Serial monitor.</p><p><img loading="lazy" src="/assets/images/ArduinoSerial-b725aa87e385fceff144a833f269068c.jpg" width="1279" height="337" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="congratulation-you-made-the-tinyml-project-and-implemented-it-on-the-xiao-ble-sense-">Congratulation, you made the tinyML project and implemented it on the XIAO BLE Sense. 🥳<a href="#congratulation-you-made-the-tinyml-project-and-implemented-it-on-the-xiao-ble-sense-" class="hash-link" aria-label="Direct link to Congratulation, you made the tinyML project and implemented it on the XIAO BLE Sense. 🥳" title="Direct link to Congratulation, you made the tinyML project and implemented it on the XIAO BLE Sense. 🥳">​</a></h3><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-7-setup-an-action-">Step 7: Setup an Action ✨<a href="#step-7-setup-an-action-" class="hash-link" aria-label="Direct link to Step 7: Setup an Action ✨" title="Direct link to Step 7: Setup an Action ✨">​</a></h2><p>We have a magic wand that can detect movements, and now we need to set up an action that will be executed when a specific movement is recognized. For instance, if we move the wand up and down, we can change the slide shown in the demonstration. Let&#x27;s explore how to achieve this functionality.</p><p>For the slide changer, you are utilizing the USB HID protocol to send keyboard strokes from the XIAO board to the computer when it detects an up or down motion. Essentially, the XIAO acts as a keyboard and sends commands only when the predefined conditions are met.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-71-upload-the-action-code">Step 7.1: Upload the Action code.<a href="#step-71-upload-the-action-code" class="hash-link" aria-label="Direct link to Step 7.1: Upload the Action code." title="Direct link to Step 7.1: Upload the Action code.">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/* Includes ---------------------------------------------------------------- */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;Xiao-nRF-MagicWand-Presenter_inferencing.h&gt;  //replace the library name with yours</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &quot;LSM6DS3.h&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &quot;PluggableUSBHID.h&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &quot;USBKeyboard.h&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">USBKeyboard keyboard;  //HID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/* Constant defines -------------------------------------------------------- */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define CONVERT_G_TO_MS2 9.80665f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define MAX_ACCEPTED_RANGE 2.0f  // starting 03/2022, models are generated setting range to +-2, but this example use Arudino library which set range to +-4g. If you are using an older model, ignore this value and use 4.0f instead</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#define INTERVAL_MS (1000 / (FREQUENCY_HZ + 1))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">static unsigned long last_interval_ms = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LSM6DS3 myIMU(I2C_MODE, 0x6A);  //I2C device address 0x6A</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">static bool debug_nn = false;  // Set this to true to see e.g. features generated from the raw signal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* @brief      Arduino setup function</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void setup() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // put your setup code here, to run once:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.begin(115200);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // comment out the below line to cancel the wait for USB connection (needed for native USB)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // while (!Serial)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //   ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Serial.println(&quot;Edge Impulse Inferencing Demo&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (!myIMU.begin()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ei_printf(&quot;Failed to initialize IMU!\r\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ei_printf(&quot;IMU initialized\r\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (EI_CLASSIFIER_RAW_SAMPLES_PER_FRAME != 3) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ei_printf(&quot;ERR: EI_CLASSIFIER_RAW_SAMPLES_PER_FRAME should be equal to 3 (the 3 sensor axes)\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @brief Return the sign of the number</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @param number</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @return int 1 if positive (or 0) -1 if negative</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">float ei_get_sign(float number) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return (number &gt;= 0.0) ? 1.0 : -1.0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* @brief      Get data and run inferencing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* @param[in]  debug  Get debug info if true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void loop() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //ei_printf(&quot;\nStarting inferencing in 2 seconds...\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //delay(2000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //ei_printf(&quot;Sampling...\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Allocate a buffer here for the values we&#x27;ll read from the IMU</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  float buffer[EI_CLASSIFIER_DSP_INPUT_FRAME_SIZE] = { 0 };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  for (size_t ix = 0; ix &lt; EI_CLASSIFIER_DSP_INPUT_FRAME_SIZE; ix += 3) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Determine the next tick (and then sleep later)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint64_t next_tick = micros() + (EI_CLASSIFIER_INTERVAL_MS * 1000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //IMU.readAcceleration(buffer[ix], buffer[ix + 1], buffer[ix + 2]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    buffer[ix + 0] = myIMU.readFloatAccelX();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    buffer[ix + 1] = myIMU.readFloatAccelY();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    buffer[ix + 2] = myIMU.readFloatAccelZ();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for (int i = 0; i &lt; 3; i++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      if (fabs(buffer[ix + i]) &gt; MAX_ACCEPTED_RANGE) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        buffer[ix + i] = ei_get_sign(buffer[ix + i]) * MAX_ACCEPTED_RANGE;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    buffer[ix + 0] *= CONVERT_G_TO_MS2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    buffer[ix + 1] *= CONVERT_G_TO_MS2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    buffer[ix + 2] *= CONVERT_G_TO_MS2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    delayMicroseconds(next_tick - micros());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Turn the raw buffer in a signal which we can the classify</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  signal_t signal;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int err = numpy::signal_from_buffer(buffer, EI_CLASSIFIER_DSP_INPUT_FRAME_SIZE, &amp;signal);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (err != 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ei_printf(&quot;Failed to create signal from buffer (%d)\n&quot;, err);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Run the classifier</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ei_impulse_result_t result = { 0 };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  err = run_classifier(&amp;signal, &amp;result, debug_nn);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (err != EI_IMPULSE_OK) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ei_printf(&quot;ERR: Failed to run classifier (%d)\n&quot;, err);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  int pred_index = 0;    // Initialize pred_index</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  float pred_value = 0;  // Initialize pred_value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //print the predictions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ei_printf(&quot;Predictions &quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ei_printf(&quot;(DSP: %d ms., Classification: %d ms., Anomaly: %d mss.)&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // result.timing.dsp, result.timing.classification, result.timing.anomaly);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ei_printf(&quot;\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  for (size_t ix = 0; ix &lt; EI_CLASSIFIER_LABEL_COUNT; ix++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ei_printf(&quot;    %s: %.5f\n&quot;, result.classification[ix].label, result.classification[ix].value);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // if (result.classification[ix].value &gt; .5) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //ei_printf(&quot;%s \n&quot;, result.classification[ix]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (result.classification[ix].value &gt; pred_value) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      pred_index = ix;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      pred_value = result.classification[ix].value;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //  if (result.classification[ix].value &gt; .5) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //     ei_printf(&quot;    %s: %.5f\n&quot;, result.classification[ix].label, result.classification[ix].value);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 0 - LeftRight:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 1 -  UpDown:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 2-   idle:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Display inference result</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if ((pred_index == 0 &amp;&amp; (pred_value &gt; 0.6))) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.println(&quot;it&#x27;s Left and Right Motion&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    keyboard.key_code(LEFT_ARROW);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  } else if ((pred_index == 1) &amp;&amp; (pred_value &gt; 0.6)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.println(&quot;it&#x27;s Up and Down Motion&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    keyboard.key_code(RIGHT_ARROW);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  } else if ((pred_index == 2) &amp;&amp; (pred_value &gt; 0.6)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.println(&quot;Idle&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //nothing to do.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#if EI_CLASSIFIER_HAS_ANOMALY == 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ei_printf(&quot;anomaly score: %.3f\n&quot;, result.anomaly);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#endif</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#if !defined(EI_CLASSIFIER_SENSOR) || EI_CLASSIFIER_SENSOR != EI_CLASSIFIER_SENSOR_ACCELEROMETER</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#error &quot;Invalid model for current sensor&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#endif</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/assets/images/MotionandKeystroke-ab301908c70767ba85e4d9ee194fa170.jpg" width="1279" height="273" class="img_ev3q"></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  // Display inference result</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if ((pred_index == 0 &amp;&amp; (pred_value &gt; 0.6))) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.println(&quot;it&#x27;s Left and Right Motion&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    keyboard.key_code(LEFT_ARROW);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  } else if ((pred_index == 1) &amp;&amp; (pred_value &gt; 0.6)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.println(&quot;it&#x27;s Up and Down Motion&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    keyboard.key_code(RIGHT_ARROW);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  } else if ((pred_index == 2) &amp;&amp; (pred_value &gt; 0.6)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Serial.println(&quot;Idle&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //nothing to do.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Here is part we are doing the action over HID whenever XIAO recognize the movement. After the code upload, open any slides and check move your magic wand to see the magic 🪄.</p><iframe width="100%" height="600" src="https://www.youtube.com/embed/A546SR1KuAE?si=NG4RV4zPw97BYLzN" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin"></iframe><h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary-">Summary 🍀<a href="#summary-" class="hash-link" aria-label="Direct link to Summary 🍀" title="Direct link to Summary 🍀">​</a></h2><ul><li>We learned about the Arduino, XIAO BLE Sense and Edge impulse</li><li>We created Edge impulse project and collected data and trained</li><li>We implemented our tinyML model on XIAO Ble sense.</li></ul><h1>ToDo - Followup After the Workshop</h1><ol><li><h2 class="anchor anchorWithStickyNavbar_LWe7" id="fill-the-feedback-form-">Fill the <a href="https://forms.gle/N92ecn15v2y8MeAk6" target="_blank" rel="noopener noreferrer">Feedback Form </a>.<a href="#fill-the-feedback-form-" class="hash-link" aria-label="Direct link to fill-the-feedback-form-" title="Direct link to fill-the-feedback-form-">​</a></h2></li><li><h2 class="anchor anchorWithStickyNavbar_LWe7" id="join-the-maker-newsletter-by-seeedstudio">Join the Maker Newsletter by SeeedStudio.<a href="#join-the-maker-newsletter-by-seeedstudio" class="hash-link" aria-label="Direct link to Join the Maker Newsletter by SeeedStudio." title="Direct link to Join the Maker Newsletter by SeeedStudio.">​</a></h2></li></ol><p><img loading="lazy" alt="QR Image" src="/assets/images/SeeedQR-4ce0ed53b1577f9ad2c7b163a6ceb4a8.jpg" width="1889" height="1011" class="img_ev3q"></p><ol start="3"><li><h2 class="anchor anchorWithStickyNavbar_LWe7" id="participate-in-this-vision-challenge-and-win-free-hardware-worth">Participate in this Vision Challenge and Win FREE Hardware worth!<a href="#participate-in-this-vision-challenge-and-win-free-hardware-worth" class="hash-link" aria-label="Direct link to Participate in this Vision Challenge and Win FREE Hardware worth!" title="Direct link to Participate in this Vision Challenge and Win FREE Hardware worth!">​</a></h2></li></ol><p>Tell us what you’d like to create or the real-world problems you aim to tackle using the Grove Vision AI V2 Sensor. We’ll review all submissions and select the 250 most innovative ideas. Chosen participants will receive a complimentary Grove Vision AI Module v2 and a compatible OV5647 camera module to bring their concepts to life. <a href="https://www.seeedstudio.com/blog/2024/03/13/exploring-smart-eyes-on-mcu-join-the-tinyml-vision-challenge-now/" target="_blank" rel="noopener noreferrer">More information</a></p><p><img loading="lazy" alt="Vision Challenge" src="/assets/images/SeeedVisionChallange-4f9848f3f6262ba5a36e8e58b887f83e.jpeg" width="2044" height="1146" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="submit-your-ideas">Submit your ideas<a href="#submit-your-ideas" class="hash-link" aria-label="Direct link to Submit your ideas" title="Direct link to Submit your ideas">​</a></h3><p>Tell us what you’d like to create or the real-world problems you aim to tackle using the Grove Vision AI V2 Sensor. We’ll review all submissions and select the 250 most innovative ideas. Chosen participants will receive a complimentary Grove Vision AI Module v2 and a compatible OV5647 camera module to bring their concepts to life.</p><p>Seize this unique opportunity by submitting your ideas now—availability is on a first-come, first-serve basis.</p><p>After you submit your idea, we will review it, and if your idea is selected, we will contact you via the email address you provided and ship you the products. Should you have any question, please feel free to reach out to <a href="mailto:iot@seeed.cc" target="_blank" rel="noopener noreferrer">iot@seeed.cc</a>, and we will be there to support you.</p><p>👉 <a href="https://docs.google.com/forms/d/e/1FAIpQLSff4smpmUu2dTNiWMI4yjbaKyZUcDVHfVrJWQMxmxwwYSqwuw/viewform" target="_blank" rel="noopener noreferrer">Submit your ideas here</a></p><h2></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="finally-thanks-to-our-friends-from-seeedstudio-for-the-support-">Finally, Thanks to our friends from SeeedStudio for the support 🤗.<a href="#finally-thanks-to-our-friends-from-seeedstudio-for-the-support-" class="hash-link" aria-label="Direct link to Finally, Thanks to our friends from SeeedStudio for the support 🤗." title="Direct link to Finally, Thanks to our friends from SeeedStudio for the support 🤗.">​</a></h3></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/tiny-ml-workshop/magicWand.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/tiny-ml-workshop/ActivitySense"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Activity Sense ✨ - Human Activity Monitor</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/category/projects-"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Projects 📝</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#key-features-of-harry-potter-magic-wand-️" class="table-of-contents__link toc-highlight">Key Features of Harry Potter Magic Wand 🧙‍♂️🪄</a></li><li><a href="#flow-diagram---how-its-works" class="table-of-contents__link toc-highlight">Flow Diagram 🔖 / How it&#39;s works.</a></li><li><a href="#demo-️" class="table-of-contents__link toc-highlight">Demo 🗃️</a></li><li><a href="#lets-get-started-" class="table-of-contents__link toc-highlight">Let&#39;s get started ✨</a></li><li><a href="#pre-requisites" class="table-of-contents__link toc-highlight">Pre-requisites</a><ul><li><a href="#hardware-requirements-" class="table-of-contents__link toc-highlight">Hardware Requirements 🔩</a></li><li><a href="#software-installations-" class="table-of-contents__link toc-highlight">Software Installations 💻</a></li><li><a href="#workshop-agenda--" class="table-of-contents__link toc-highlight">Workshop Agenda  📖</a></li></ul></li><li><a href="#step-1-introductions-" class="table-of-contents__link toc-highlight">Step 1: Introductions 🔖</a></li><li><a href="#step-2-fetch-accelerometer-data-from-xiao-" class="table-of-contents__link toc-highlight">Step 2: Fetch Accelerometer data from XIAO 🧺</a><ul><li><a href="#step-21-connect-the-seeed-studio-xiao-nrf52840-sense-to-your-computer-via-a-usb-type-c-cable" class="table-of-contents__link toc-highlight">Step 2.1: Connect the Seeed Studio XIAO nRF52840 Sense to your computer via a USB Type-C cable.</a></li><li><a href="#step-22-upload-readxiaoaccelerometerino-sketch" class="table-of-contents__link toc-highlight">Step 2.2: Upload ReadXIAOAccelerometer.ino sketch</a></li><li><a href="#step-23-install-the-xiao-to-the-magic-wand-provided" class="table-of-contents__link toc-highlight">Step 2.3: Install the XIAO to the Magic Wand provided.</a></li></ul></li><li><a href="#step-3-connect-to-edge-impulse-and-forward-accelerometer-data--️" class="table-of-contents__link toc-highlight">Step 3: Connect to Edge impulse and Forward Accelerometer data  🎛️.</a><ul><li><a href="#step-31-create-an-edge-impulse-free-account" class="table-of-contents__link toc-highlight">Step 3.1: Create an Edge Impulse Free Account.</a></li><li><a href="#step-32-create-edge-impulse-project" class="table-of-contents__link toc-highlight">Step 3.2: Create Edge Impulse Project</a></li></ul></li><li><a href="#step-4-connect-the-xiao-with-edgeimpulse-and-start-collect-data-" class="table-of-contents__link toc-highlight">Step 4: Connect the XIAO with EdgeImpulse and start collect data 🪣.</a><ul><li><a href="#steps-41-install-edge-impulse-cli-in-your-computer" class="table-of-contents__link toc-highlight">Steps 4.1: Install Edge impulse CLI in your computer.</a></li><li><a href="#steps-42-connect-the-xiao-to-the-edge-impulse-project-we-created" class="table-of-contents__link toc-highlight">Steps 4.2: Connect the XIAO to the Edge Impulse project we created</a></li><li><a href="#step-43-start-collecting-data" class="table-of-contents__link toc-highlight">Step 4.3 Start collecting Data.</a></li></ul></li><li><a href="#step-5-design-impulse-create-ml-model-and-train-" class="table-of-contents__link toc-highlight">Step 5 Design Impulse, create ML model and train 🪄.</a><ul><li><a href="#step-51-create-impulse" class="table-of-contents__link toc-highlight">Step 5.1 Create Impulse</a></li><li><a href="#step-52-spectral-features" class="table-of-contents__link toc-highlight">Step 5.2 Spectral features</a></li><li><a href="#step-53-classifier" class="table-of-contents__link toc-highlight">Step 5.3 Classifier</a></li></ul></li><li><a href="#step-6-generate-arduino-library-" class="table-of-contents__link toc-highlight">Step 6: Generate Arduino Library 🧬.</a></li><li><a href="#step-7-deploy-it-on-the-xiao-nrf52850-sense-and-live-inference-" class="table-of-contents__link toc-highlight">Step 7: Deploy it on the XIAO nRF52850 Sense and Live inference 🪢.</a><ul><li><a href="#congratulation-you-made-the-tinyml-project-and-implemented-it-on-the-xiao-ble-sense-" class="table-of-contents__link toc-highlight">Congratulation, you made the tinyML project and implemented it on the XIAO BLE Sense. 🥳</a></li></ul></li><li><a href="#step-7-setup-an-action-" class="table-of-contents__link toc-highlight">Step 7: Setup an Action ✨</a><ul><li><a href="#step-71-upload-the-action-code" class="table-of-contents__link toc-highlight">Step 7.1: Upload the Action code.</a></li></ul></li><li><a href="#summary-" class="table-of-contents__link toc-highlight">Summary 🍀</a><ul><li><a href="#submit-your-ideas" class="table-of-contents__link toc-highlight">Submit your ideas</a></li><li><a href="#finally-thanks-to-our-friends-from-seeedstudio-for-the-support-" class="table-of-contents__link toc-highlight">Finally, Thanks to our friends from SeeedStudio for the support 🤗.</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/category/iot-basic-workshop-">IoT</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/tinyml-workshop-">tinyML</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://makergram.com/community/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/Maker_Gram" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://makergram.com/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/MakerGram/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 MakerGram. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.579b549e.js"></script>
<script src="/assets/js/main.fb1f8963.js"></script>
</body>
</html>